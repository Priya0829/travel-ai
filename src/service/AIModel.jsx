

/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    // safetySettings: Adjust safety settings
    // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Delhi, India, for 2 Days for 2 people with a moderate budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, traveltime, ticket Pricing, rating, Time travel each of the location for 2 days with each day plan with best time to visit in JSON format" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The Lodhi\",\n      \"hotelAddress\": \"Lodhi Road, New Delhi, Delhi 110003, India\",\n      \"price\": \"₹10,000 - ₹20,000\",\n      \"hotelImageUrl\": \"https://www.thelodhinewdelhi.com/images/home-slider/slide-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.5897,\n        \"longitude\": 77.2282\n      },\n      \"rating\": 4.5,\n      \"description\": \"A luxurious heritage hotel with beautiful gardens and a tranquil atmosphere.\"\n    },\n    {\n      \"hotelName\": \"The Leela Palace New Delhi\",\n      \"hotelAddress\": \"Chanakyapuri, New Delhi, Delhi 110021, India\",\n      \"price\": \"₹15,000 - ₹30,000\",\n      \"hotelImageUrl\": \"https://www.theleela.com/newdelhi/images/hotel-gallery/exterior-views/exterior-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.5792,\n        \"longitude\": 77.1982\n      },\n      \"rating\": 4.7,\n      \"description\": \"A grand and elegant hotel offering world-class amenities and service.\"\n    },\n    {\n      \"hotelName\": \"The Imperial, New Delhi\",\n      \"hotelAddress\": \"Janpath, Connaught Place, New Delhi, Delhi 110001, India\",\n      \"price\": \"₹8,000 - ₹15,000\",\n      \"hotelImageUrl\": \"https://www.theimperialindia.com/images/gallery/Exterior/Exterior-03.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.6305,\n        \"longitude\": 77.2173\n      },\n      \"rating\": 4.3,\n      \"description\": \"A historic hotel with a rich colonial past and a central location.\"\n    },\n    {\n      \"hotelName\": \"The Oberoi, New Delhi\",\n      \"hotelAddress\": \"Dr. Zakir Hussain Marg, New Delhi, Delhi 110003, India\",\n      \"price\": \"₹12,000 - ₹25,000\",\n      \"hotelImageUrl\": \"https://www.oberoihotels.com/images/hotels/new-delhi/gallery/exterior/oberoi-new-delhi-exterior-1-300x180.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.6049,\n        \"longitude\": 77.2041\n      },\n      \"rating\": 4.6,\n      \"description\": \"A luxurious hotel known for its exceptional service and elegant design.\"\n    },\n    {\n      \"hotelName\": \"The Claridges, New Delhi\",\n      \"hotelAddress\": \"12, Aurangzeb Road, New Delhi, Delhi 110011, India\",\n      \"price\": \"₹7,000 - ₹12,000\",\n      \"hotelImageUrl\": \"https://www.claridges.com/images/gallery/exterior/exterior-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.5985,\n        \"longitude\": 77.2194\n      },\n      \"rating\": 4.2,\n      \"description\": \"A charming hotel with a classic ambiance and a convenient location.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Red Fort\",\n          \"placeDetails\": \"A UNESCO World Heritage Site and a symbol of Mughal architecture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Red_Fort_Delhi_India.jpg/1280px-Red_Fort_Delhi_India.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6560,\n            \"longitude\": 77.2395\n          },\n          \"travelTime\": \"30 minutes from Connaught Place\",\n          \"ticketPricing\": \"₹20 per person\",\n          \"rating\": 4.7,\n          \"timeToVisit\": \"Morning (8:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"Chandni Chowk\",\n          \"placeDetails\": \"A bustling market area known for its street food and traditional shops.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Chandni_Chowk_2.jpg/1280px-Chandni_Chowk_2.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6490,\n            \"longitude\": 77.2309\n          },\n          \"travelTime\": \"5 minutes from Red Fort\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.3,\n          \"timeToVisit\": \"Afternoon (1:00 PM - 4:00 PM)\"\n        },\n        {\n          \"placeName\": \"Jama Masjid\",\n          \"placeDetails\": \"The largest mosque in India, known for its impressive architecture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Jama_Masjid_Delhi_Exterior.jpg/1280px-Jama_Masjid_Delhi_Exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6470,\n            \"longitude\": 77.2319\n          },\n          \"travelTime\": \"10 minutes from Chandni Chowk\",\n          \"ticketPricing\": \"Free entry\",\n          \"rating\": 4.6,\n          \"timeToVisit\": \"Evening (5:00 PM - 7:00 PM)\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"placeName\": \"Humayun's Tomb\",\n          \"placeDetails\": \"A beautiful Mughal garden tomb, a UNESCO World Heritage Site.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Humayuns_Tomb_Delhi.jpg/1280px-Humayuns_Tomb_Delhi.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6108,\n            \"longitude\": 77.2395\n          },\n          \"travelTime\": \"30 minutes from Connaught Place\",\n          \"ticketPricing\": \"₹20 per person\",\n          \"rating\": 4.8,\n          \"timeToVisit\": \"Morning (9:00 AM - 11:00 AM)\"\n        },\n        {\n          \"placeName\": \"Lotus Temple\",\n          \"placeDetails\": \"A unique and modern Baháʼí House of Worship, shaped like a lotus flower.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Lotus_Temple_Delhi.jpg/1280px-Lotus_Temple_Delhi.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.5821,\n            \"longitude\": 77.2651\n          },\n          \"travelTime\": \"30 minutes from Humayun's Tomb\",\n          \"ticketPricing\": \"Free entry\",\n          \"rating\": 4.5,\n          \"timeToVisit\": \"Afternoon (12:00 PM - 3:00 PM)\"\n        },\n        {\n          \"placeName\": \"India Gate\",\n          \"placeDetails\": \"A war memorial dedicated to the Indian soldiers who died in World War I.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/India_Gate_New_Delhi.jpg/1280px-India_Gate_New_Delhi.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6130,\n            \"longitude\": 77.2297\n          },\n          \"travelTime\": \"15 minutes from Lotus Temple\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.6,\n          \"timeToVisit\": \"Evening (4:00 PM - 6:00 PM)\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Data:**\n\n* **hotelOptions:** This section provides a list of 5 hotels with their names, addresses, prices, image URLs, geo coordinates, ratings, and brief descriptions. These hotels are chosen based on their moderate pricing and good ratings.\n* **itinerary:** This section contains a 2-day itinerary with detailed information about each place to visit.\n* **day:** Indicates the day of the trip.\n* **plan:** Contains an array of places to visit on that day.\n* **placeName:** The name of the place.\n* **placeDetails:** A short description of the place.\n* **placeImageUrl:** The URL of an image representing the place.\n* **geoCoordinates:** The latitude and longitude coordinates of the place.\n* **travelTime:** The estimated travel time from the previous location or from Connaught Place on day 1.\n* **ticketPricing:** The ticket price for entry, if any.\n* **rating:** The average rating of the place based on user reviews.\n* **timeToVisit:** The suggested time of the day to visit the place for a better experience.\n\n**Note:** This itinerary provides a suggested plan, and you can customize it based on your preferences and interests. For example, you can add more places, change the order, or adjust the time spent at each location. \n" },
            ],
        },
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Delhi, India, for 1 Days for 3 to 5 people with a moderate budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, traveltime, ticket Pricing, rating, Time travel each of the location for 1 days with each day plan with best time to visit in JSON format" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The Manor\",\n      \"hotelAddress\": \"77, Friends Colony West, New Delhi, Delhi 110065, India\",\n      \"price\": \"₹5,000 - ₹10,000\",\n      \"hotelImageUrl\": \"https://www.themanornewdelhi.com/images/home-slider/slider-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.5787,\n        \"longitude\": 77.2558\n      },\n      \"rating\": 4.2,\n      \"description\": \"A comfortable and well-located hotel with modern amenities and a friendly atmosphere.\"\n    },\n    {\n      \"hotelName\": \"The Park New Delhi\",\n      \"hotelAddress\": \"15, Parliament Street, New Delhi, Delhi 110001, India\",\n      \"price\": \"₹6,000 - ₹12,000\",\n      \"hotelImageUrl\": \"https://www.theparkhotels.com/newdelhi/images/home-slider/slide-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.6325,\n        \"longitude\": 77.2192\n      },\n      \"rating\": 4.4,\n      \"description\": \"A stylish hotel with a central location near Connaught Place and popular attractions.\"\n    },\n    {\n      \"hotelName\": \"The Roseate New Delhi\",\n      \"hotelAddress\": \"69, Samalkha Road, New Delhi, Delhi 110039, India\",\n      \"price\": \"₹7,000 - ₹15,000\",\n      \"hotelImageUrl\": \"https://www.theroseate.com/newdelhi/images/home-slider/slide-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.6235,\n        \"longitude\": 77.1696\n      },\n      \"rating\": 4.6,\n      \"description\": \"A modern and luxurious hotel with a rooftop pool and stunning views of the city.\"\n    },\n    {\n      \"hotelName\": \"The Lalit New Delhi\",\n      \"hotelAddress\": \"Barakhamba Road, Connaught Place, New Delhi, Delhi 110001, India\",\n      \"price\": \"₹8,000 - ₹18,000\",\n      \"hotelImageUrl\": \"https://www.thelalit.com/new-delhi/images/home-slider/slide-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.6316,\n        \"longitude\": 77.2172\n      },\n      \"rating\": 4.3,\n      \"description\": \"A well-established hotel with a prime location in Connaught Place, offering a range of amenities.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"placeName\": \"Red Fort\",\n          \"placeDetails\": \"A UNESCO World Heritage Site and a symbol of Mughal architecture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Red_Fort_Delhi_India.jpg/1280px-Red_Fort_Delhi_India.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6560,\n            \"longitude\": 77.2395\n          },\n          \"travelTime\": \"30 minutes from Connaught Place\",\n          \"ticketPricing\": \"₹20 per person\",\n          \"rating\": 4.7,\n          \"timeToVisit\": \"Morning (8:00 AM - 12:00 PM)\"\n        },\n        {\n          \"placeName\": \"Chandni Chowk\",\n          \"placeDetails\": \"A bustling market area known for its street food and traditional shops.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Chandni_Chowk_2.jpg/1280px-Chandni_Chowk_2.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6490,\n            \"longitude\": 77.2309\n          },\n          \"travelTime\": \"5 minutes from Red Fort\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.3,\n          \"timeToVisit\": \"Afternoon (1:00 PM - 4:00 PM)\"\n        },\n        {\n          \"placeName\": \"Jama Masjid\",\n          \"placeDetails\": \"The largest mosque in India, known for its impressive architecture.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Jama_Masjid_Delhi_Exterior.jpg/1280px-Jama_Masjid_Delhi_Exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6470,\n            \"longitude\": 77.2319\n          },\n          \"travelTime\": \"10 minutes from Chandni Chowk\",\n          \"ticketPricing\": \"Free entry\",\n          \"rating\": 4.6,\n          \"timeToVisit\": \"Evening (5:00 PM - 7:00 PM)\"\n        },\n        {\n          \"placeName\": \"India Gate\",\n          \"placeDetails\": \"A war memorial dedicated to the Indian soldiers who died in World War I.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/India_Gate_New_Delhi.jpg/1280px-India_Gate_New_Delhi.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 28.6130,\n            \"longitude\": 77.2297\n          },\n          \"travelTime\": \"30 minutes from Jama Masjid\",\n          \"ticketPricing\": \"N/A\",\n          \"rating\": 4.6,\n          \"timeToVisit\": \"Evening (8:00 PM - 9:00 PM)\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Data:**\n\n* **hotelOptions:** This section provides a list of 4 hotels with their names, addresses, prices, image URLs, geo coordinates, ratings, and brief descriptions. These hotels are chosen based on their moderate pricing and good ratings, suitable for a group of 3 to 5 people.\n* **itinerary:** This section contains a 1-day itinerary with detailed information about each place to visit.\n* **day:** Indicates the day of the trip.\n* **plan:** Contains an array of places to visit on that day.\n* **placeName:** The name of the place.\n* **placeDetails:** A short description of the place.\n* **placeImageUrl:** The URL of an image representing the place.\n* **geoCoordinates:** The latitude and longitude coordinates of the place.\n* **travelTime:** The estimated travel time from the previous location or from Connaught Place for the first location.\n* **ticketPricing:** The ticket price for entry, if any.\n* **rating:** The average rating of the place based on user reviews.\n* **timeToVisit:** The suggested time of the day to visit the place for a better experience.\n\n**Note:** \n* This itinerary is designed for a group of 3-5 people with moderate budget and provides a suggested plan for a 1-day trip to Delhi. \n* The travel times are approximate and may vary depending on traffic conditions. \n* You can customize the itinerary based on your preferences and interests, adding more places, changing the order, or adjusting the time spent at each location.\n" },
            ],
        },
    ],
});
